<head>
    <meta charset="UTF-8">

    <!-- Design meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta content="#fff" media="(prefers-color-scheme: light)" name="theme-color">
    <meta content="#121212" media="(prefers-color-scheme: dark)" name="theme-color">

    {% if page.private %}
        <meta name="robots" content="noindex, nofollow">
    {% else %}
        {% if page.keywords %}
        <meta name="keywords" content="{{ page.keywords }}">
        {% else if site.keywords %}
        <meta name="keywords" content="{{ site.keywords }}">
        {% endif %}
        <meta name="robots" content="index, follow">
        {% seo %}
    {% endif %}

    <link rel="alternate" type="application/atom+xml" title="Feed" href="{{ "/feed.xml" | absolute_url }}">

    <!-- Preload -->
    <link rel="preload" as="style" href="{{ "/assets/css/style.css" | relative_url }}">
    <link rel="preload" as="font" crossorigin type="font/woff2" href="{{ "/assets/fonts/opensans/open-sans-v40-latin_latin-ext_math_symbols-700.woff2" | relative_url }}">
    <link rel="preload" as="font" crossorigin type="font/woff2" href="{{ "/assets/fonts/opensans/open-sans-v40-latin_latin-ext_math_symbols-regular.woff2" | relative_url }}">
    <link rel="preload" as="image" type="image/svg+xml" href="{{ "/assets/images/logo.svg" | relative_url }}">

    <!-- CSS stylesheets -->
    <link rel="stylesheet" href="{{ "/assets/css/style.css" | relative_url }}" media="all" blocking="render" fetchpriority="high">
    
    <!-- Defer non-critical css -->
    <link rel="stylesheet" href="{{ "/assets/css/print.css" | relative_url }}" media="print" fetchpriority="low">
    <link rel="stylesheet" href="{{ "/assets/css/light_code.css" | relative_url }}" media="(prefers-color-scheme: light)" fetchpriority="low">
    <link rel="stylesheet" href="{{ "/assets/css/dark_code.css" | relative_url }}"  media="(prefers-color-scheme: dark)" fetchpriority="low">

    <!-- Favicon -->
    <link rel="icon" href="{{ /assets/images/favicon.svg | relative_url }}" type="image/svg+xml">
    <link rel="icon" href="{{ /assets/images/favicon.ico | relative_url }}" sizes="any">
    
    <!-- PWA -->
    <meta name="theme-color" content="#282828"/>
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="manifest" href="/assets/sitemanifest.json">
    <link rel="apple-touch-icon" sizes="512x512" href="/assets/images/pwa_icon_x512.png">

    <!-- Analytics -->
    {% if site.cloudflare %}
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "{{ site.cloudflare }}"}'></script>
    {% endif %}
</head>